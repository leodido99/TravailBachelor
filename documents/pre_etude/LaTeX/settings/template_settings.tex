%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Template Settings
%
% Author: Léonard Bise
% Date: 25.05.2018
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%\documentclass[11pt,a4paper, openany]{memoir}
\documentclass[a4paper,11pt,fleqn, oneside]{book}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}

\usepackage{booktabs}
\usepackage{longtable}
\usepackage[paper=portrait,pagesize]{typearea}
\usepackage{tikz}
\usepackage{fancyhdr}
\usepackage{graphicx} % includegraphics
\graphicspath{ {images/} }
\usepackage[
breaklinks=true,colorlinks=true,
linkcolor=black,urlcolor=black,citecolor=black,
bookmarks=true,bookmarksopenlevel=2]{hyperref}  % Links color in pdf
\usepackage{bookmark} % Creates bookmarks in pdf files
\usepackage[final]{pdfpages}

\usepackage{listings}
\lstset{language=[LaTeX]Tex,tabsize=4, basicstyle=\scriptsize\ttfamily, showstringspaces=false, numbers=left, numberstyle=\tiny, numbersep=10pt, breaklines=true, breakautoindent=true, breakindent=10pt}

\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
    \hbox{}
    \thispagestyle{empty}
    \newpage
    \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother \clearpage{\pagestyle{plain}\cleardoublepage}

\usepackage{fourier} % Utopia font-typesetting including mathematical formula compatible with newer TeX-Distributions (>2010)
%\usepackage{utopia} % on older systems -> use this package instead of fourier in combination with mathdesign for better looking results
%\usepackage[adobe-utopia]{mathdesign}
%\setlength{\textwidth}{155mm} % = 210mm - 37mm - 26.2mm
%\setlength{\oddsidemargin}{7mm} % 37mm - 1in (from hoffset)
%\setlength{\evensidemargin}{7mm} % = 26.2mm - 1in (from hoffset)
%\setlength{\topmargin}{-2mm} % = 0mm -1in + 23.2mm 
%\setlength{\textheight}{221.9mm} % = 297mm -29.5mm -31.6mm - 14mm (12 to accomodate footline with pagenumber)
%\setlength{\headheight}{46pt}
%\usepackage[
%  top=2.5cm,
%  bottom=2.5cm,
%  left=3cm,
%  right=2.5cm,
%  headsep=1.5cm,
%  footskip=30pt,
%  headheight=46pt,
%  asymmetric,
%  showframe
%]{geometry}
\usepackage{geometry}
\setlength{\topmargin}{-1.5cm}
\setlength{\textheight}{700pt}
\setlength{\footskip}{25pt}
\setlength{\textwidth}{430pt}
\setlength{\headheight}{46pt} 

\usepackage{afterpage}
\usepackage{pdflscape}

\usepackage{setspace} % increase interline spacing slightly
\setstretch{1.1}

\makeatletter
\setlength{\@fptop}{0pt}  % for aligning all floating figures/tables etc... to the top margin
\makeatother

\usepackage{titlesec}
%\titlespacing*{\chapter}{0pt}{5pt}{*0}
\titlespacing*{\chapter}{0pt}{-30pt}{5pt}
\titlespacing*{\section}{0pt}{5pt}{5pt}
%\titlespacing*{\section}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}
\titlespacing*{\subsection}{0pt}{5pt}{5pt}
%\titlespacing*{\subsection}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}
\titlespacing*{\subsubsection}{0pt}{5pt}{5pt}
%\titlespacing*{\subsubsection}{0pt}{3.5ex plus 1ex minus .2ex}{2.3ex plus .2ex}
%\titlespacing*{\section}{0pt}{13.2pt}{*0}  % 13.2pt is line spacing for a text with 11pt font size
%\titlespacing*{\subsection}{0pt}{13.2pt}{*0}
%\titlespacing*{\subsubsection}{0pt}{13.2pt}{*0}

% Modifie la section chapitre
\titleformat{\chapter}
  {\LARGE\bfseries}{\thechapter}{10pt}{}

% Fancy Headers
\fancyhead{}

% Header
\fancyhead[L]{\includegraphics[scale=0.5]{HEIG-VD}}
\fancyhead[C]{}
\fancyhead[R]{Travail de Bachelor - Pré-étude\\Bise Léonard\\Informatique Embarquée (ISEC)}

% Use fancy pagestyle on chapter pages
\makeatletter
\renewcommand\chapter{\if@openright\cleardoublepage\else\clearpage\fi
                    \thispagestyle{fancy}% original style: plain
                    \global\@topnum\z@
                    \@afterindentfalse
                    \secdef\@chapter\@schapter}
\makeatother

% Paragraph spacing
\setlength{\parskip}{\baselineskip}
\setlength{\parindent}{0pt}%

% Units
\usepackage{siunitx}
\sisetup{load-configurations = abbreviations}

% Define a checkmark
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 
