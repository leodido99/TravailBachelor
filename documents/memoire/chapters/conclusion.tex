
\chapter{Conclusion}

Le travail effectué durant le développement du projet à montré que, d'un point de vue fonctionnel, LoRa permet de remplir l'objectif fixé. La quantité de données que cette technologie permet de transférer à la fois est suffisante pour transmettre les informations nécessaires au bon fonctionnement du système et les taux de transfert bas ne sont pas problématiques. En plus de cela, il est très facile à mettre en place un petit système avec un émetteur et un récepteur à un coût très raisonnable qui permet de plonger rapidement dans le vif du sujet.

Même si LoRa est adéquat pour la situation, on notera que les limitations associées au taux de transfert, c'est-à-dire le respect du duty cycle imposé par la réglementation sur les bandes de fréquences libre, peuvent se révéler être un réel problème. En effet, comme mentionné dans le chapitre \ref{ch:lora_lorawan}, on peut voir qu'en fonction de la bande de fréquence que l'on souhaite utiliser il peut être nécessaire de respecter des intervalles entre l'envoie de deux paquet de plusieurs minutes voir de plusieurs dizaines de minutes.

Actuellement, le système utilise un intervalle de 15s entre chaque message. Cela est uniquement possible pour la bande de fréquence 869.4 à 869.65 Mhz. On constate que cette bande de fréquence est extrêmement étroite et on rappelle que, afin de minimiser les interférences, LoRa va changer de canal à chaque envoi. Si l'on souhaite rester dans la bande mentionnée, l’efficacité de cette technique s’en trouve diminuée. On peut donc dire que la réactivité du système est directement liée à la fréquence d'envoi des paquets puisque c'est seulement la réception de nouvelles données qui fait évoluer la position et les statistiques des coureurs. Par conséquent, le choix de ce paramètre est un élément très important dans la configuration du système et peut devenir un problème si l'on souhaite avoir une réactivité élevée dans l'application mobile.

Une autre problématique relative à LoRa est liée à la portée des messages envoyées. On peut souvent lire que la portée théorique des messages LoRa est d'environ 10 km, et cela est vrai pour autant que les conditions optimales soient remplies. Comme étudié durant le test de la phase \#3 et le test de distance, voir chapitre \ref{ch:test_3} et \ref{ch:test_distance}, j'ai pu constater que si le signal est envoyé avec une puissance basse, il est pratiquement impossible de communiquer si la vue entre le capteur et la passerelle est obstruée. En augmentant la puissance du signal, les résultats sont beaucoup plus encourageants, permettant une réception jusqu'au moins 1.2 km. Cet aspect mériterait d'être étudié davantage dans l'idée d'évolution de ce prototype, car les compétitions sportives se déroulent rarement dans des régions dépourvues d'obstacles, mais plutôt en montagne ou en ville où les obstacles sont multiples. Même si ce problème est gênant, il existe néanmoins une solution pour en diminuer les effets - il est possible d'augmenter le nombre de passerelles utilisées par le système afin de pouvoir garantir une couverture optimale et minimiser le nombre de paquets perdus. 

Dans l'optique d'améliorer la qualité de la communication du capteur, l'utilisation de passerelles d'un réseau privé de concert avec des passerelles du système placées à des endroits clés peut être un réel atout. Il s’agit là d’un argument supplémentaire en faveur de l'utilisation de la couche MAC LoRaWAN, qui est requise pour être capable de rejoindre des réseaux existants. Une étude plus approfondie est nécessaire pour évaluer cette solution car elle comporte également des inconvénients. Premièrement, elle requiert des coûts supplémentaires car l'utilisation de ces réseaux est payante. De plus, il est nécessaire de prendre garde aux quantités et taux de transferts qui sont souvent limités par les opérateurs.

L'utilisation du système d'exploitation temps réel Zephyr pour développer le firmware du capteur est bien adaptée à l'application visée. De base, Zephyr propose toutes les mécaniques que l'on peut attendre d'un système de ce genre et fait preuve d’une flexibilité très intéressante permettant de facilement changer ou modifier les configurations de l'électronique sur laquelle l'application est exécutée. Il est très facile de rajouter des drivers ou des sous-systèmes à sa guise afin de développer les éléments nécessaires pour son application. De plus, la communauté qui est épaulée par de grandes structures comme Intel, NXP ou Linaro se rend disponible afin de répondre aux diverses questions que l'on pourrait avoir et la documentation disponible sur le site internet est très riche. Afin de contribuer moi-même à l'évolution de Zephyr, j'ai comme projet futur de pouvoir ramener sur dépôt principal les développements qui ont été réalisés dans le cadre de ce travail de diplôme afin de pouvoir en faire profiter l'entier de la communauté.

La plateforme Android est très puissante et propose des centaines de fonctionnalités et d'énormes quantités de documentation, ce qui permet de créer des applications mobiles modernes et performantes. Le simulateur de la plateforme qui est fourni avec le logiciel Android Studio, qui a été utilisé pendant le développement du projet, est un outil particulièrement indispensable afin de faciliter la mise au point de son programme. Il est également très facile d'exécuter ensuite son application sur n'importe quel téléphone muni de ce système d'exploitation pour s'assurer du fonctionnement en conditions réelles.

En ce qui concerne l'évolution future du système, deux aspects devraient être approfondis en priorité. Le premier est la réalisation de tests supplémentaires à plusieurs niveaux, afin de pouvoir mieux caractériser les performances du système et les effets exacts des paramètres qu'il est possible d'altérer, en particulier en ce qui concerne la communication LoRa. Deuxièmement, la modernisation de l'interface entre la base de données et l'application mobile semble être un point qui mérite des améliorations. Il est nécessaire d'utiliser les techniques de l'état de l'art dans le domaine et ainsi assurer que le système soit capable de soutenir la charge accrue amenée par de nombreux utilisateurs du système et un nombre élevé de capteurs. Enfin, l'algorithme du calcul de la cadence doit être finalisé, puisque le calendrier de réalisation de ce travail de bachelor ne m'a malheureusement pas permis de pouvoir développer cet aspect relativement complexe.

Le développement de ce travail m'a permis de développer mes compétences, et d’en acquérir de nouvelles, dans différents domaines. J'ai pu explorer l'utilisation de la technologie LoRa pour transmettre des données et j'ai eu le plaisir de pouvoir travailler avec plusieurs langages de programmation allant du bas niveau, avec le C, jusqu'au haut niveau avec java et C++. Il m'a été possible de développer une base de données et de me familiariser avec le développement pour la plateforme Android. La mise en route du capteur et l'écriture de plusieurs drivers m'ont permis de découvrir le cœur du système d'exploitation temps réel Zephyr et les microcontrôleurs ARM. Enfin, je souhaiterais remercier chaleureusement ma compagne, qui a fait office de cobaye à plusieurs reprises et sans qui ce projet n'aurait pas pu être possible.
